(function(){function t(t){if("number"!=typeof t.length||0===t.length)return[];var e=[];for(var a in t[0])e.push({headerText:a,rowText:a});return e}ko.simpleSortableGrid={viewModel:function(e){var a=this;this.data=e.data,this.currentPageIndex=ko.observable(0),this.pageSize=e.pageSize||5,this.isGridPaginated=!(0===e.pageSize),this.gridClass=e.gridClass||"",this.sortByClass=e.sortByClass||"fa fa-sort",this.sortByClassAsc=e.sortByClassAsc||"fa fa-caret-up",this.sortByClassDesc=e.sortByClassDesc||"fa fa-caret-down",this.paginationClass=e.paginationClass||"",this.lastSortedColumn=ko.observable(""),this.lastSort=ko.observable("Desc"),this.columns=e.columns||t(ko.unwrap(this.data)),this.itemsOnCurrentPage=this.isGridPaginated?ko.computed(function(){var t=this.pageSize*this.currentPageIndex();return ko.unwrap(this.data).slice(t,t+this.pageSize)},this):this.data,this.maxPageIndex=ko.computed(function(){return Math.ceil(ko.unwrap(this.data).length/this.pageSize)-1},this),this.sortBy=function(t){a.lastSortedColumn()!=t?(a.sortByAsc(t),a.lastSortedColumn(t),a.lastSort("Asc")):"Asc"==a.lastSort()?(a.sortByDesc(t),a.lastSort("Desc")):(a.sortByAsc(t),a.lastSort("Asc")),a.currentPageIndex(0)},this.sortByAsc=function(t){a.data.sort(function(e,a){return e[t]<a[t]?-1:1})},this.sortByDesc=function(t){a.data.reverse(function(e,a){return e[t]<a[t]?-1:1})},this.sortByCSS=function(t){return void 0!=t&&""!=t?a.lastSortedColumn()==t?"Asc"==a.lastSort()?a.sortByClassAsc:a.sortByClassDesc:a.sortByClass:""}}};var e=new ko.nativeTemplateEngine;e.addTemplate=function(t,e){document.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},e.addTemplate("ko_simpleSortableGrid_grid",'                    <table data-bind="css:gridClass">                        <thead>                            <tr data-bind="foreach: columns" style="cursor:pointer;">                                <!-- ko if: isSortable == true-->                                <th data-bind="click:$parent.sortBy($data.rowText)"><span data-bind="text: headerText"></span>  <span data-bind="css:$parent.sortByCSS($data.rowText)"></span></th>                                <!-- /ko -->                                <!-- ko ifnot: isSortable == true-->                                <th><span data-bind="text: headerText"></span></th>                                <!-- /ko -->                            </tr>                        </thead>                        <tbody data-bind="foreach: itemsOnCurrentPage">                           <tr data-bind="foreach: $parent.columns">                               <td data-bind="text: typeof rowText == \'function\' ? rowText($parent) : $parent[rowText] "></td>                            </tr>                        </tbody>                    </table>'),e.addTemplate("ko_simpleSortableGrid_pageLinks",'                    <div data-bind="css:paginationClass">\t\t\t\t\t\tPages:                         <!-- ko foreach: ko.utils.range(0, maxPageIndex) -->                               <a href="#" data-bind="text: $data + 1, click: function() { $root.currentPageIndex($data) }, css: { selected: $data == $root.currentPageIndex() }">                            </a>                        <!-- /ko -->                    </div>'),ko.bindingHandlers.simpleSortableGrid={init:function(){return{controlsDescendantBindings:!0}},update:function(t,a,s){for(var r=a();t.firstChild;)ko.removeNode(t.firstChild);var i=s.get("simpleSortableGridTemplate")||"ko_simpleSortableGrid_grid",n=s.get("simpleSortableGridPagerTemplate")||"ko_simpleSortableGrid_pageLinks",o=t.appendChild(document.createElement("DIV"));if(ko.renderTemplate(i,r,{templateEngine:e},o,"replaceNode"),r.isGridPaginated){var d=t.appendChild(document.createElement("DIV"));ko.renderTemplate(n,r,{templateEngine:e},d,"replaceNode")}}}})();